Building for debugging...
[0/2] Write swift-version--58304C5D6DBC2206.txt
Build complete! (0.09s)
Test Suite 'All tests' started at 2025-10-09 21:56:28.481.
Test Suite 'SwiftGuionPackageTests.xctest' started at 2025-10-09 21:56:28.482.
Test Suite 'DocumentImportTests' started at 2025-10-09 21:56:28.482.
Test Case '-[SwiftGuionTests.DocumentImportTests testEmptyAndNilFilenames]' started.
Test Case '-[SwiftGuionTests.DocumentImportTests testEmptyAndNilFilenames]' passed (0.006 seconds).
Test Case '-[SwiftGuionTests.DocumentImportTests testFilenamePreservation]' started.
Test Case '-[SwiftGuionTests.DocumentImportTests testFilenamePreservation]' passed (0.004 seconds).
Test Case '-[SwiftGuionTests.DocumentImportTests testFilenameTransformation]' started.
Test Case '-[SwiftGuionTests.DocumentImportTests testFilenameTransformation]' passed (0.001 seconds).
Test Case '-[SwiftGuionTests.DocumentImportTests testGuionFileAlreadyGuionExtension]' started.
Test Case '-[SwiftGuionTests.DocumentImportTests testGuionFileAlreadyGuionExtension]' passed (0.001 seconds).
Test Case '-[SwiftGuionTests.DocumentImportTests testImportedFilenameTransformation]' started.
Test Case '-[SwiftGuionTests.DocumentImportTests testImportedFilenameTransformation]' passed (0.001 seconds).
Test Case '-[SwiftGuionTests.DocumentImportTests testImportFDXFile]' started.
Test Case '-[SwiftGuionTests.DocumentImportTests testImportFDXFile]' passed (0.001 seconds).
Test Case '-[SwiftGuionTests.DocumentImportTests testImportFountainFile]' started.
Test Case '-[SwiftGuionTests.DocumentImportTests testImportFountainFile]' passed (0.001 seconds).
Test Case '-[SwiftGuionTests.DocumentImportTests testImportHighlandFile]' started.
Test Case '-[SwiftGuionTests.DocumentImportTests testImportHighlandFile]' passed (0.001 seconds).
Test Case '-[SwiftGuionTests.DocumentImportTests testImportVsNativePerformance]' started.
Test Case '-[SwiftGuionTests.DocumentImportTests testImportVsNativePerformance]' passed (0.452 seconds).
Test Case '-[SwiftGuionTests.DocumentImportTests testMultipleDotsInFilename]' started.
Test Case '-[SwiftGuionTests.DocumentImportTests testMultipleDotsInFilename]' passed (0.002 seconds).
Test Case '-[SwiftGuionTests.DocumentImportTests testNativeGuionFileNoReparsing]' started.
Test Case '-[SwiftGuionTests.DocumentImportTests testNativeGuionFileNoReparsing]' passed (0.026 seconds).
Test Case '-[SwiftGuionTests.DocumentImportTests testOpenNativeGuionFile]' started.
Test Case '-[SwiftGuionTests.DocumentImportTests testOpenNativeGuionFile]' passed (0.002 seconds).
Test Case '-[SwiftGuionTests.DocumentImportTests testSpecialCharactersInFilename]' started.
Test Case '-[SwiftGuionTests.DocumentImportTests testSpecialCharactersInFilename]' passed (0.001 seconds).
Test Suite 'DocumentImportTests' passed at 2025-10-09 21:56:28.984.
	 Executed 13 tests, with 0 failures (0 unexpected) in 0.501 (0.502) seconds
Test Suite 'GuionSerializationTests' started at 2025-10-09 21:56:28.984.
Test Case '-[SwiftGuionTests.GuionSerializationTests testBinaryDataEncoding]' started.
Test Case '-[SwiftGuionTests.GuionSerializationTests testBinaryDataEncoding]' passed (0.002 seconds).
Test Case '-[SwiftGuionTests.GuionSerializationTests testDecodingCorruptedFile]' started.
Test Case '-[SwiftGuionTests.GuionSerializationTests testDecodingCorruptedFile]' passed (0.002 seconds).
Test Case '-[SwiftGuionTests.GuionSerializationTests testDocumentValidation]' started.
Test Case '-[SwiftGuionTests.GuionSerializationTests testDocumentValidation]' passed (0.002 seconds).
Test Case '-[SwiftGuionTests.GuionSerializationTests testDocumentWithAllElementTypes]' started.
Test Case '-[SwiftGuionTests.GuionSerializationTests testDocumentWithAllElementTypes]' passed (0.003 seconds).
Test Case '-[SwiftGuionTests.GuionSerializationTests testDocumentWithSpecialCharacters]' started.
Test Case '-[SwiftGuionTests.GuionSerializationTests testDocumentWithSpecialCharacters]' passed (0.002 seconds).
Test Case '-[SwiftGuionTests.GuionSerializationTests testEmptyDocument]' started.
Test Case '-[SwiftGuionTests.GuionSerializationTests testEmptyDocument]' passed (0.002 seconds).
Test Case '-[SwiftGuionTests.GuionSerializationTests testEncodingErrors]' started.
Test Case '-[SwiftGuionTests.GuionSerializationTests testEncodingErrors]' passed (0.002 seconds).
Test Case '-[SwiftGuionTests.GuionSerializationTests testLargeDocumentPerformance]' started.
Test Case '-[SwiftGuionTests.GuionSerializationTests testLargeDocumentPerformance]' passed (1.713 seconds).
Test Case '-[SwiftGuionTests.GuionSerializationTests testMultipleTitlePageEntries]' started.
Test Case '-[SwiftGuionTests.GuionSerializationTests testMultipleTitlePageEntries]' passed (0.004 seconds).
Test Case '-[SwiftGuionTests.GuionSerializationTests testPreserveRelationships]' started.
Test Case '-[SwiftGuionTests.GuionSerializationTests testPreserveRelationships]' passed (0.003 seconds).
Test Case '-[SwiftGuionTests.GuionSerializationTests testPreserveSceneLocations]' started.
Test Case '-[SwiftGuionTests.GuionSerializationTests testPreserveSceneLocations]' passed (0.003 seconds).
Test Case '-[SwiftGuionTests.GuionSerializationTests testRoundTripSerialization]' started.
Test Case '-[SwiftGuionTests.GuionSerializationTests testRoundTripSerialization]' passed (0.002 seconds).
Test Case '-[SwiftGuionTests.GuionSerializationTests testSceneNumberPreservation]' started.
Test Case '-[SwiftGuionTests.GuionSerializationTests testSceneNumberPreservation]' passed (0.004 seconds).
Test Case '-[SwiftGuionTests.GuionSerializationTests testVersionCompatibility]' started.
Test Case '-[SwiftGuionTests.GuionSerializationTests testVersionCompatibility]' passed (0.002 seconds).
Test Suite 'GuionSerializationTests' passed at 2025-10-09 21:56:30.729.
	 Executed 14 tests, with 0 failures (0 unexpected) in 1.744 (1.745) seconds
Test Suite 'HighlandParsingTests' started at 2025-10-09 21:56:30.729.
Test Case '-[SwiftGuionTests.HighlandParsingTests testAllHighlandFilesInFixtures]' started.
/Users/stovak/Projects/SwiftGuion/Tests/SwiftGuionTests/HighlandParsingTests.swift:110: error: -[SwiftGuionTests.HighlandParsingTests testAllHighlandFilesInFixtures] : XCTAssertGreaterThanOrEqual failed: ("0.5") is less than ("0.8") - At least 80% of Highland files should parse successfully
Test Case '-[SwiftGuionTests.HighlandParsingTests testAllHighlandFilesInFixtures]' failed (6.463 seconds).
Test Case '-[SwiftGuionTests.HighlandParsingTests testHighlandFileStructure]' started.
Test Case '-[SwiftGuionTests.HighlandParsingTests testHighlandFileStructure]' passed (0.002 seconds).
Test Suite 'HighlandParsingTests' failed at 2025-10-09 21:56:37.193.
	 Executed 2 tests, with 1 failure (0 unexpected) in 6.465 (6.465) seconds
Test Suite 'OutlineLevelParsingTests' started at 2025-10-09 21:56:37.193.
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testChapterSceneGroupHierarchy]' started.
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testChapterSceneGroupHierarchy]' passed (0.001 seconds).
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testEmptyScript]' started.
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testEmptyScript]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testENDMarkersNotCountedAsChapters]' started.
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testENDMarkersNotCountedAsChapters]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testLevel2ChaptersDetection]' started.
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testLevel2ChaptersDetection]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testLevel3SceneGroupDetection]' started.
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testLevel3SceneGroupDetection]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testMixedHierarchyLevels]' started.
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testMixedHierarchyLevels]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testMultipleLevel1HeadersGetDemoted]' started.
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testMultipleLevel1HeadersGetDemoted]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testNoLevel1CreatesSymtheticTitle]' started.
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testNoLevel1CreatesSymtheticTitle]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testSceneBrowserWithMultipleChapters]' started.
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testSceneBrowserWithMultipleChapters]' passed (0.001 seconds).
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testSceneDirectiveExtraction]' started.
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testSceneDirectiveExtraction]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testSceneHeadersUnderSceneGroups]' started.
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testSceneHeadersUnderSceneGroups]' passed (0.001 seconds).
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testScriptWithOnlyScenes]' started.
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testScriptWithOnlyScenes]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testSHOTDirectivesNotCountedAsChapters]' started.
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testSHOTDirectivesNotCountedAsChapters]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testSingleLevel1Header]' started.
Test Case '-[SwiftGuionTests.OutlineLevelParsingTests testSingleLevel1Header]' passed (0.000 seconds).
Test Suite 'OutlineLevelParsingTests' passed at 2025-10-09 21:56:37.200.
	 Executed 14 tests, with 0 failures (0 unexpected) in 0.006 (0.007) seconds
Test Suite 'SceneBrowserTests' started at 2025-10-09 21:56:37.200.
Test Case '-[SwiftGuionTests.SceneBrowserTests testChapterDataInitialization]' started.
Test Case '-[SwiftGuionTests.SceneBrowserTests testChapterDataInitialization]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserTests testEmptyScript]' started.
Test Case '-[SwiftGuionTests.SceneBrowserTests testEmptyScript]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserTests testExtractSceneBrowserDataWithTestFixture]' started.
Test Case '-[SwiftGuionTests.SceneBrowserTests testExtractSceneBrowserDataWithTestFixture]' passed (0.002 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserTests testMultipleChapters]' started.
/Users/stovak/Projects/SwiftGuion/Tests/SwiftGuionTests/SceneBrowserTests.swift:325: error: -[SwiftGuionTests.SceneBrowserTests testMultipleChapters] : XCTAssertGreaterThan failed: ("1") is not greater than ("1") - Should have multiple chapters
Test Case '-[SwiftGuionTests.SceneBrowserTests testMultipleChapters]' failed (0.002 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserTests testOverBlackAttachmentToNextScene]' started.
Test Case '-[SwiftGuionTests.SceneBrowserTests testOverBlackAttachmentToNextScene]' passed (0.002 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserTests testOverBlackDetection]' started.
Test Case '-[SwiftGuionTests.SceneBrowserTests testOverBlackDetection]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserTests testSceneBrowserDataInitialization]' started.
Test Case '-[SwiftGuionTests.SceneBrowserTests testSceneBrowserDataInitialization]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserTests testSceneDataInitialization]' started.
Test Case '-[SwiftGuionTests.SceneBrowserTests testSceneDataInitialization]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserTests testSceneDataWithPreScene]' started.
Test Case '-[SwiftGuionTests.SceneBrowserTests testSceneDataWithPreScene]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserTests testSceneDirectiveMetadata]' started.
/Users/stovak/Projects/SwiftGuion/Tests/SwiftGuionTests/SceneBrowserTests.swift:270: error: -[SwiftGuionTests.SceneBrowserTests testSceneDirectiveMetadata] : XCTAssertTrue failed - Should find at least one scene directive in test.fountain
Test Case '-[SwiftGuionTests.SceneBrowserTests testSceneDirectiveMetadata]' failed (0.002 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserTests testSceneGroupDataInitialization]' started.
Test Case '-[SwiftGuionTests.SceneBrowserTests testSceneGroupDataInitialization]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserTests testSceneGroupsInChapter]' started.
Test Case '-[SwiftGuionTests.SceneBrowserTests testSceneGroupsInChapter]' passed (0.002 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserTests testScenesInSceneGroup]' started.
Test Case '-[SwiftGuionTests.SceneBrowserTests testScenesInSceneGroup]' passed (0.002 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserTests testScriptWithOnlyTitle]' started.
Test Case '-[SwiftGuionTests.SceneBrowserTests testScriptWithOnlyTitle]' passed (0.000 seconds).
Test Suite 'SceneBrowserTests' failed at 2025-10-09 21:56:37.212.
	 Executed 14 tests, with 2 failures (0 unexpected) in 0.011 (0.012) seconds
Test Suite 'SceneBrowserUITests' started at 2025-10-09 21:56:37.212.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testBrowserDataHierarchy]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testBrowserDataHierarchy]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testChapterExpansionState]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testChapterExpansionState]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testChapterWithNoSceneGroups]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testChapterWithNoSceneGroups]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testDataIntegrityWithRealScript]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testDataIntegrityWithRealScript]' passed (0.002 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testEmptyChapterHandling]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testEmptyChapterHandling]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testEmptyPreSceneText]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testEmptyPreSceneText]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testHierarchyIntegrityWithRealData]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testHierarchyIntegrityWithRealData]' passed (0.002 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testLargeScriptPerformance]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testLargeScriptPerformance]' passed (0.186 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testMultipleChapters]' started.
/Users/stovak/Projects/SwiftGuion/Tests/SwiftGuionTests/SceneBrowserUITests.swift:278: error: -[SwiftGuionTests.SceneBrowserUITests testMultipleChapters] : XCTAssertGreaterThanOrEqual failed: ("1") is less than ("2") - test.fountain should have at least 2 chapters
Test Case '-[SwiftGuionTests.SceneBrowserUITests testMultipleChapters]' failed (0.002 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testPreSceneContentAttachment]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testPreSceneContentAttachment]' passed (0.002 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testPreSceneTextProperty]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testPreSceneTextProperty]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSceneBrowserDataFromTestFixture]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSceneBrowserDataFromTestFixture]' passed (0.002 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSceneContentExtraction]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSceneContentExtraction]' passed (0.002 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSceneDirectiveMetadata]' started.
/Users/stovak/Projects/SwiftGuion/Tests/SwiftGuionTests/SceneBrowserUITests.swift:192: error: -[SwiftGuionTests.SceneBrowserUITests testSceneDirectiveMetadata] : XCTAssertTrue failed - test.fountain should have scene groups with directives
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSceneDirectiveMetadata]' failed (0.002 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSceneExpansionState]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSceneExpansionState]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSceneGroupExpansionState]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSceneGroupExpansionState]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSceneGroupWithNoScenes]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSceneGroupWithNoScenes]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSceneIdUniqueness]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSceneIdUniqueness]' passed (0.002 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSceneLocationParsing]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSceneLocationParsing]' passed (0.002 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSceneWithNilLocation]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSceneWithNilLocation]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSceneWithNoElements]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSceneWithNoElements]' passed (0.000 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSyntheticChapterWithNoChapters]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSyntheticChapterWithNoChapters]' passed (0.001 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSyntheticChapterWithNoSceneGroups]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSyntheticChapterWithNoSceneGroups]' passed (0.001 seconds).
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSyntheticElementsNotExported]' started.
Test Case '-[SwiftGuionTests.SceneBrowserUITests testSyntheticElementsNotExported]' passed (0.000 seconds).
Test Suite 'SceneBrowserUITests' failed at 2025-10-09 21:56:37.417.
	 Executed 24 tests, with 2 failures (0 unexpected) in 0.204 (0.205) seconds
Test Suite 'SwiftGuionPackageTests.xctest' failed at 2025-10-09 21:56:37.417.
	 Executed 81 tests, with 5 failures (0 unexpected) in 8.930 (8.935) seconds
Test Suite 'All tests' failed at 2025-10-09 21:56:37.417.
	 Executed 81 tests, with 5 failures (0 unexpected) in 8.930 (8.936) seconds
ğŸ“Š Performance: Native .guion load: 0.21946001052856445s for 500 elements
ğŸ’¾ Native .guion save time: 0.002126932144165039s, load time: 0.01108407974243164s
ğŸ’¾ Save time for 1000 elements: 0.010743975639343262s
ğŸ“¥ Load time for 1000 elements: 0.860258936882019s

ğŸ“‹ Found 2 Highland files to test:
  - bigfish.highland
  - test.highland

ğŸ” Testing: bigfish.highland
  âœ… Parsed successfully: 2756 elements

ğŸ” Testing: test.highland
  âŒ Failed to parse: noTextBundleFound

============================================================
ğŸ“Š SUMMARY
============================================================
âœ… Successfully parsed: 1/2
âŒ Failed or empty: 1/2

âœ… Successful files:
  - bigfish.highland: 2756 elements

âŒ Failed files:
  - test.highland: The operation couldnâ€™t be completed. (SwiftGuion.HighlandError error 0.)
============================================================

Warning: Multiple level 1 headers found. Only the first one will be treated as level 1.

=== DEBUG: Loading file from: /Users/stovak/Projects/SwiftGuion/.build/checkouts/SwiftFijos/Fixtures/test.fountain ===
Loaded 26 elements
Found 0 Section Headings

=== DEBUG: All Level 2 Elements ===

=== DEBUG: Chapters Found ===
[0] 'Scenes'
Total chapters: 1

âš¡ Performance: BigFish extraction took 0.056 seconds
ğŸ“‹ Outline elements:
  - sectionHeader level:1 parent:nil 'test-no-groups'
  - sceneHeader level:3 parent:outline-0 'INT. ROOM - DAY'
  - sceneHeader level:4 parent:outline-1 'EXT. STREET - NIGHT'
  - blank level:-1 parent:nil ''
ğŸ“Š Browser data:
  Chapters: 1
  Chapter: 'Scenes'
    Group: 'Main' (2 scenes)
      Scene: 'INT. ROOM - DAY'
      Scene: 'EXT. STREET - NIGHT'
âœ… Verified synthetic elements are not exported
ô€Ÿˆ  Test run started.
ô€„µ  Testing Library Version: 1085
ô€„µ  Target Platform: arm64e-apple-macos14.0
ô€Ÿˆ  Test testCachedSceneLocationReturnsNilForNonSceneHeading() started.
ô€Ÿˆ  Suite "Outline Hierarchy Functional Tests" started.
ô€Ÿˆ  Suite "GuionElement Tests" started.
ô€Ÿˆ  Suite "CharacterInfo Tests" started.
ô€Ÿˆ  Test testOverBlackSceneHeading() started.
ô€Ÿˆ  Suite "Enhanced Outline Level Tests" started.
ô€Ÿˆ  Suite "GuionSerializationError Tests" started.
ô€Ÿˆ  Test testGetGuionElements() started.
ô€Ÿˆ  Suite "Scene Summarization Tests" started.
ô€Ÿˆ  Suite BigFishParsingTests started.
ô€Ÿˆ  Test testLoadFromHighland() started.
ô€Ÿˆ  Test testManualReparseLocation() started.
ô€Ÿˆ  Test testUnifiedGetContent() started.
ô€Ÿˆ  Test testLocationClearedWhenTypeChangesFromSceneHeading() started.
ô€Ÿˆ  Test testWriteOutlineJSON() started.
ô€Ÿˆ  Test testLightingAndTimeAnalysis() started.
ô€Ÿˆ  Suite "FDXDocumentWriter Tests" started.
ô€Ÿˆ  Test testLocationParsingOnInit() started.
ô€Ÿˆ  Test testGetContentURL() started.
ô€Ÿˆ  Test testInitFromGuionElement() started.
ô€Ÿˆ  Test testSpeakableContentProtocol() started.
ô€Ÿˆ  Test example() started.
ô€Ÿˆ  Test testGetLocationsByAppearance() started.
ô€Ÿˆ  Test testLoadFromTextBundle() started.
ô€Ÿˆ  Test testLocationKeyNormalization() started.
ô€Ÿˆ  Test testSceneLocationEquality() started.
ô€Ÿˆ  Test testSpeakableContentWithRealScript() started.
ô€Ÿˆ  Test testModifierParsing() started.
ô€Ÿˆ  Test testSpeakableContentForAllElementTypes() started.
ô€Ÿˆ  Test testLocationReparsedOnTextChange() started.
ô€Ÿˆ  Test testSpeakableContentGenerateNarration() started.
ô€Ÿˆ  Test testWriteLocationBreakdownJSON() started.
ô€Ÿˆ  Test testGroupScenesByLocation() started.
ô€Ÿˆ  Test testExtractCharacters() started.
ô€Ÿˆ  Test testFirstDialogue() started.
ô€Ÿˆ  Test testCachedSceneLocationProperty() started.
ô€Ÿˆ  Test testExtractOutline() started.
ô€Ÿˆ  Test testWriteToTextBundleWithResources() started.
ô€Ÿˆ  Test testTimeOfDayParsing() started.
ô€Ÿˆ  Test testLocationReparsedOnTypeChange() started.
ô€Ÿˆ  Test testExtractSceneLocations() started.
ô€Ÿˆ  Test testLocationParsingWithModifiers() started.
ô€Ÿˆ  Test testWriteToTextBundle() started.
ô€Ÿˆ  Test testLocationClearedForNonSceneHeading() started.
ô€Ÿˆ  Test testFDXParserExtractsGuionElements() started.
ô€Ÿˆ  Test testWriteToHighland() started.
ô€Ÿˆ  Test testAllLocations() started.
ô€Ÿˆ  Test testGetLocationsByFrequency() started.
ô€Ÿˆ  Test testSceneAndSetupParsing() started.
ô€Ÿˆ  Test testGuionDocumentModelSceneLocations() started.
ô€Ÿˆ  Test testScenesAtLocation() started.
ô€Ÿˆ  Test testGetContent() started.
ô€Ÿˆ  Test testHighlandRoundTrip() started.
ô€Ÿˆ  Test testLocationDataPersistsThroughChanges() started.
ô€Ÿˆ  Test testSceneLightingParsing() started.
ô€Ÿˆ  Test testProductionScenario() started.
ô€Ÿˆ  Test testMultipleLocationChanges() started.
ô€Ÿˆ  Test testComplexSceneHeadings() started.
ô€Ÿˆ  Test testGuionElementSceneLocation() started.
ô€Ÿˆ  Test testComplexLocationPersistence() started.
ô€Ÿˆ  Test testLocationParsingWithSetup() started.
ô€Ÿˆ  Test testUnifiedGetContentUrl() started.
ô€Ÿˆ  Test testSceneLocationDescription() started.
ô€Ÿˆ  Test testWriteCharactersJSON() started.
ô€Ÿˆ  Test testLocationKeyConsistency() started.
ô€Ÿˆ  Test testGuionDocumentModelReparseAllLocations() started.
ô€Ÿˆ  Test "Functional test: Outline hierarchy across all fixture files" started.
ô€Ÿˆ  Test "Test GuionElement is Sendable" started.
ô€Ÿˆ  Test "Test description for section heading with depth" started.
ô€Ÿˆ  Test "Initialize GuionElement with type and text convenience initializer" started.
ô€Ÿˆ  Test "Test modifying element properties" started.
ô€Ÿˆ  Test "Initialize GuionElement from protocol conforming type" started.
ô€Ÿˆ  Test "Test description for basic element" started.
ô€Ÿˆ  Test "Test multiple elements with different types" started.
ô€Ÿˆ  Test "Test description for centered element" started.
ô€Ÿˆ  Test "Test GuionElementProtocol description extension with custom type" started.
ô€Ÿˆ  Test "Initialize GuionElement with default values" started.
ô€Ÿˆ  Test "Initialize GuionElement with elementType and elementText" started.
ô€Ÿˆ  Test "Test description for dual dialogue element" started.
ô€Ÿˆ  Test "Write characters JSON with special character names" started.
ô€Ÿˆ  Test "Write empty characters to JSON" started.
ô€Ÿˆ  Test "Extract characters and write to JSON file" started.
ô€¢„  Test testLoadFromTextBundle() recorded an issue at SwiftFountainTests.swift:88:2: Caught error: Error Domain=NSCocoaErrorDomain Code=260 "The file â€œtest.highlandâ€ couldnâ€™t be opened because there is no such file." UserInfo={NSFilePath=/Users/stovak/Projects/SwiftGuion/Fixtures/test.highland}
ô€¢„  Test testGetContentURL() recorded an issue at SwiftFountainTests.swift:49:2: Caught error: Error Domain=NSCocoaErrorDomain Code=260 "The file â€œtest.highlandâ€ couldnâ€™t be opened because there is no such file." UserInfo={NSFilePath=/Users/stovak/Projects/SwiftGuion/Fixtures/test.highland}
ô€Ÿˆ  Test "ElementType property returns 'outline' for API compatibility" started.
ô€Ÿˆ  Test "Scene text extraction for non-scene elements returns string" started.
ô€Ÿˆ  Test "END marker detection" started.
ô€Ÿˆ  Test "Chapter level headers identification" started.
ô€Ÿˆ  Test "Tree structure functionality" started.
ô€Ÿˆ  Test "Parent-child relationships and tree structure" started.
ô€Ÿˆ  Test "Scene text extraction returns complete scene content" started.
ô€Ÿˆ  Test "Outline with level 1 header should respect existing title" started.
ô€Ÿˆ  Test "Convenience tree extraction method" started.
ô€Ÿˆ  Test "Multiple level 1 headers should be demoted" started.
ô€Ÿˆ  Test "Scene directive parsing" started.
ô€Ÿˆ  Test "Outline with no level 1 header should generate script title" started.

Locations with multiple lighting types:
  SHACK: ["INT", "EXT"]
  HORIZON SAVINGS & LOAN: ["INT", "EXT"]
  BIG TOP: ["INT", "EXT"]

Locations with multiple times of day:
  FIELD: ["DAY", "PRE-DAWN"]
  SHACK: ["ANOTHER DAY", "DAY"]
  BIG-TOP: ["NIGHT", "NIGHT / LATER"]
Location 'FIELD' has 2 scenes
ô€Ÿˆ  Test "Test unsupportedVersion error description" started.
ô€Ÿˆ  Test "Test encodingFailed error description" started.
ô€Ÿˆ  Test "Test decodingFailed recovery suggestion" started.
ô€Ÿˆ  Test "Test corruptedFile error description" started.
ô€Ÿˆ  Test "Test encodingFailed recovery suggestion" started.
ô€Ÿˆ  Test "Test decodingFailed error description" started.
ô€Ÿˆ  Test "Test corruptedFile recovery suggestion" started.
ô€Ÿˆ  Test "Test missingData recovery suggestion" started.
ô€Ÿˆ  Test "Test missingData error description" started.
ô€Ÿˆ  Test "Test unsupportedVersion recovery suggestion" started.
ô›  Test testCachedSceneLocationReturnsNilForNonSceneHeading() passed after 0.278 seconds.
ô€Ÿˆ  Test "GuionElementModel includes summary field" started.
ô€Ÿˆ  Test "SceneSummarizer handles scene with minimal dialogue" started.
ô€Ÿˆ  Test "Scene text extraction and summarization integration" started.
ô€Ÿˆ  Test "Protocol-based conversion preserves summary" started.
ô€Ÿˆ  Test "SceneSummarizer extracts basic scene information" started.
ô€Ÿˆ  Test "Scene text extraction correctly handles duplicate scene headings" started.
ô€Ÿˆ  Test "SceneSummarizer handles empty text" started.
ô€Ÿˆ  Test "Export to Fountain format" started.
ô€Ÿˆ  Test "Parse BigFish.fountain using unified parser" started.
ô€Ÿˆ  Test "Parse BigFish.highland using unified parser" started.
ô€Ÿˆ  Test "All BigFish formats produce similar results" started.
ô€Ÿˆ  Test "Parse BigFish.fdx using unified parser" started.
ô€Ÿˆ  Test "Export to FDX format" started.
ô€Ÿˆ  Test "Create FDX from empty document" started.
ô€Ÿˆ  Test "FDX with complex scene numbers" started.
ô€Ÿˆ  Test "FDX round-trip test" started.
ô€Ÿˆ  Test "Create FDX with basic elements" started.
ô€Ÿˆ  Test "FDX with title page entries" started.
ô€Ÿˆ  Test "FDX escapes special XML characters" started.
ô€Ÿˆ  Test "FDX filters out whitespace-only title page values" started.
ô€Ÿˆ  Test "FDX handles empty title page" started.
ô›  Test testSpeakableContentProtocol() passed after 0.297 seconds.
ô›  Test testLocationClearedWhenTypeChangesFromSceneHeading() passed after 0.297 seconds.
ô›  Test testLocationParsingOnInit() passed after 0.297 seconds.
ô›  Test testManualReparseLocation() passed after 0.297 seconds.
ô›  Test example() passed after 0.434 seconds.
ô›  Test testInitFromGuionElement() passed after 0.435 seconds.
ô›  Test testLocationKeyNormalization() passed after 0.435 seconds.
ô›  Test testSceneLocationEquality() passed after 0.435 seconds.
ô›  Test testModifierParsing() passed after 0.435 seconds.
ô›  Test testLocationReparsedOnTextChange() passed after 0.437 seconds.
ô›  Test testSpeakableContentGenerateNarration() passed after 0.436 seconds.
ô€¢„  Test testLoadFromTextBundle() failed after 0.437 seconds with 1 issue.
ô€¢„  Test testGetContentURL() failed after 0.437 seconds with 1 issue.
ô›  Test testUnifiedGetContent() passed after 0.437 seconds.
ô›  Test testOverBlackSceneHeading() passed after 0.459 seconds.
ô›  Test testCachedSceneLocationProperty() passed after 0.461 seconds.

Total unique locations: 143
ô›  Test testGetGuionElements() passed after 0.467 seconds.
ô›  Test testGetLocationsByAppearance() passed after 0.467 seconds.
ô›  Test testSpeakableContentWithRealScript() passed after 0.467 seconds.
ô›  Test testTimeOfDayParsing() passed after 0.467 seconds.

Top locations by frequency:
  1. HOSPITAL - ROOM - 8 scenes
  2. GUEST - ROOM - 5 scenes
  3. HOSPITAL - HALLWAY - 5 scenes
  4. SHACK - 4 scenes
  5. UPSTAIRS - HALLWAY - 4 scenes
ô›  Test testLocationReparsedOnTypeChange() passed after 0.510 seconds.
Testing bigfish.fountain - Outline has 192 elements
âœ… bigfish.fountain hierarchy validation complete
ô›  Test testLocationParsingWithModifiers() passed after 0.661 seconds.
ô›  Test testLightingAndTimeAnalysis() passed after 0.675 seconds.
ô›  Test testGroupScenesByLocation() passed after 0.675 seconds.
ô›  Test testWriteLocationBreakdownJSON() passed after 0.675 seconds.
ô›  Test testLoadFromHighland() passed after 0.675 seconds.
ô›  Test testLocationClearedForNonSceneHeading() passed after 0.675 seconds.
ô›  Test testSpeakableContentForAllElementTypes() passed after 0.675 seconds.
ô›  Test testExtractCharacters() passed after 0.675 seconds.
ô›  Test testSceneAndSetupParsing() passed after 0.675 seconds.
ô›  Test testGetContent() passed after 0.675 seconds.
ô›  Test testGuionDocumentModelSceneLocations() passed after 0.675 seconds.
ô›  Test testFDXParserExtractsGuionElements() passed after 0.675 seconds.
ô›  Test testLocationDataPersistsThroughChanges() passed after 0.675 seconds.
ô›  Test testSceneLightingParsing() passed after 0.675 seconds.
ô›  Test testProductionScenario() passed after 0.675 seconds.
ô›  Test testMultipleLocationChanges() passed after 0.675 seconds.
ô›  Test testComplexSceneHeadings() passed after 0.675 seconds.
ô›  Test testGuionElementSceneLocation() passed after 0.684 seconds.

First INT. HOUSE - DAY summary: Characters: ALICE. ALICE enters the house. She looks around the empty room.
Second INT. HOUSE - DAY summary: Characters: CHARLIE. Later that afternoon, CHARLIE enters the same house.
ô›  Test testComplexLocationPersistence() passed after 0.698 seconds.
ô›  Test testLocationParsingWithSetup() passed after 0.698 seconds.
ô›  Test testUnifiedGetContentUrl() passed after 0.698 seconds.
ô›  Test testSceneLocationDescription() passed after 0.698 seconds.
ô›  Test testWriteOutlineJSON() passed after 0.699 seconds.
ô›  Test testLocationKeyConsistency() passed after 0.699 seconds.
ô›  Test testGuionDocumentModelReparseAllLocations() passed after 0.699 seconds.
ô›  Test testExtractOutline() passed after 0.699 seconds.
ô›  Test "Test GuionElement is Sendable" passed after 0.697 seconds.
ô›  Test "Test description for section heading with depth" passed after 0.697 seconds.
ô›  Test "Initialize GuionElement with type and text convenience initializer" passed after 0.697 seconds.
ô›  Test "Test modifying element properties" passed after 0.697 seconds.
ô›  Test "Initialize GuionElement from protocol conforming type" passed after 0.697 seconds.
ô›  Test "Test description for basic element" passed after 0.697 seconds.
ô›  Test "Test multiple elements with different types" passed after 0.697 seconds.
ô›  Test "Test description for centered element" passed after 0.697 seconds.
ô›  Test "Test GuionElementProtocol description extension with custom type" passed after 0.697 seconds.
ô›  Test "Initialize GuionElement with default values" passed after 0.697 seconds.
ô›  Test "Initialize GuionElement with elementType and elementText" passed after 0.697 seconds.
ô›  Test "Test description for dual dialogue element" passed after 0.697 seconds.
ô›  Test "Write characters JSON with special character names" passed after 0.698 seconds.
ô›  Test "Write empty characters to JSON" passed after 0.698 seconds.
ô›  Test "Extract characters and write to JSON file" passed after 0.698 seconds.
ô›  Test testFirstDialogue() passed after 0.700 seconds.
ô›  Test testExtractSceneLocations() passed after 0.700 seconds.
ô›  Test testWriteToTextBundle() passed after 0.700 seconds.
ô›  Test testAllLocations() passed after 0.700 seconds.
ô›  Test testGetLocationsByFrequency() passed after 0.700 seconds.
ô›  Test testWriteToTextBundleWithResources() passed after 0.701 seconds.
ô›  Test testScenesAtLocation() passed after 0.700 seconds.
ô›  Test testWriteCharactersJSON() passed after 0.700 seconds.
ô›  Test "ElementType property returns 'outline' for API compatibility" passed after 0.690 seconds.
ô›  Test "Scene text extraction for non-scene elements returns string" passed after 0.690 seconds.
ô›  Test "Chapter level headers identification" passed after 0.478 seconds.
ô›  Test "END marker detection" passed after 0.478 seconds.
ô›  Test "Test unsupportedVersion error description" passed after 0.457 seconds.
ô›  Test "Test encodingFailed error description" passed after 0.457 seconds.
ô›  Test "Test decodingFailed recovery suggestion" passed after 0.457 seconds.
ô›  Test "Test corruptedFile error description" passed after 0.455 seconds.
ô›  Test "Test encodingFailed recovery suggestion" passed after 0.455 seconds.
ô›  Test "Test decodingFailed error description" passed after 0.455 seconds.
ô›  Test "Test corruptedFile recovery suggestion" passed after 0.455 seconds.
ô›  Test "Test missingData recovery suggestion" passed after 0.455 seconds.
ô›  Test "Test missingData error description" passed after 0.455 seconds.
ô›  Test "Test unsupportedVersion recovery suggestion" passed after 0.443 seconds.
ô›  Test "GuionElementModel includes summary field" passed after 0.424 seconds.
ô›  Test "Tree structure functionality" passed after 0.464 seconds.
ô›  Test "Protocol-based conversion preserves summary" passed after 0.423 seconds.
ô›  Test "Scene text extraction returns complete scene content" passed after 0.464 seconds.
ô›  Test "Scene text extraction correctly handles duplicate scene headings" passed after 0.423 seconds.
ô›  Test "SceneSummarizer handles empty text" passed after 0.423 seconds.
ô›  Test testHighlandRoundTrip() passed after 0.702 seconds.
ô›  Test "Outline with level 1 header should respect existing title" passed after 0.464 seconds.
ô›  Suite "GuionElement Tests" passed after 0.703 seconds.
ô›  Suite "CharacterInfo Tests" passed after 0.703 seconds.
ô›  Suite "GuionSerializationError Tests" passed after 0.703 seconds.
ô›  Test testWriteToHighland() passed after 0.714 seconds.
ô›  Test "Convenience tree extraction method" passed after 0.495 seconds.
ô›  Test "Parent-child relationships and tree structure" passed after 0.501 seconds.
Testing bigfish.highland - Outline has 192 elements
ô›  Test "Multiple level 1 headers should be demoted" passed after 0.585 seconds.
ô›  Test "Outline with no level 1 header should generate script title" passed after 0.594 seconds.
ô›  Test "Scene directive parsing" passed after 0.595 seconds.
ô›  Suite "Enhanced Outline Level Tests" passed after 0.836 seconds.
ô›  Test "SceneSummarizer handles scene with minimal dialogue" passed after 0.565 seconds.
Generated summary: Characters: EDWARD. WILL BLOOM, AGE 3, listens wide-eyed as his father EDWARD BLOOM, 40â€™s and handsome, tells the story....
ô›  Test "SceneSummarizer extracts basic scene information" passed after 0.577 seconds.
âœ… bigfish.highland hierarchy validation complete
ô›  Test "Functional test: Outline hierarchy across all fixture files" passed after 0.864 seconds.
ô›  Suite "Outline Hierarchy Functional Tests" passed after 0.867 seconds.
âœ… Export to Fountain: 145010 characters
ô›  Test "Export to Fountain format" passed after 6.906 seconds.
âœ… BigFish.fountain: 2756 elements, 190 locations, 48 unique characters
ô›  Test "Parse BigFish.fountain using unified parser" passed after 13.424 seconds.
âœ… BigFish.highland: 2756 elements, 190 locations, 48 unique characters
ô›  Test "Parse BigFish.highland using unified parser" passed after 19.834 seconds.
ğŸ“Š Element counts: Fountain=2756, FDX=2767, Highland=2756
âœ… Cross-format consistency verified
ô›  Test "All BigFish formats produce similar results" passed after 39.267 seconds.
âœ… BigFish.fdx: 2767 elements, 190 locations, 48 unique characters
ô›  Test "Parse BigFish.fdx using unified parser" passed after 45.556 seconds.
âœ… Export to FDX: 333558 bytes
ô›  Test "Export to FDX format" passed after 52.045 seconds.
ô›  Suite BigFishParsingTests passed after 52.325 seconds.
ô›  Test "Create FDX from empty document" passed after 52.040 seconds.
ô›  Test "FDX with complex scene numbers" passed after 52.033 seconds.
ô›  Test "FDX round-trip test" passed after 52.034 seconds.
ô›  Test "Create FDX with basic elements" passed after 52.035 seconds.
ô›  Test "FDX with title page entries" passed after 52.037 seconds.
ô›  Test "FDX escapes special XML characters" passed after 52.038 seconds.
ô›  Test "FDX filters out whitespace-only title page values" passed after 52.039 seconds.
Scene: INT.  WILLâ€™S BEDROOM - NIGHT (1973)
Summary: Characters: EDWARD. WILL BLOOM, AGE 3, listens wide-eyed as his father EDWARD BLOOM, 40â€™s and handsome, tells the story....
ô›  Test "FDX handles empty title page" passed after 52.040 seconds.
ô›  Suite "FDXDocumentWriter Tests" passed after 52.337 seconds.
ô›  Test "Scene text extraction and summarization integration" passed after 52.058 seconds.
ô›  Suite "Scene Summarization Tests" passed after 52.337 seconds.
ô€¢„  Test run with 117 tests in 8 suites failed after 52.338 seconds with 2 issues.
